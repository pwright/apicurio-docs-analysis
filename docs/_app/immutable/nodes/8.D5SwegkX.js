import{s as G,d as c,i as p,a as M,b as _,c as k,h as P,e as y,f as C,g as S,j as T,k as w,l as Q,o as B,m as H,n as Y,p as g,q as j,r as L,t as V}from"../chunks/scheduler.B01IB3Lr.js";import{S as K,i as X,t as F,a as O,c as z,d as J,m as W,b as Z,e as $,g as tt}from"../chunks/index.BKDtcpIM.js";import{e as et,s as it,Q as at,p as rt,a as N,r as U,C as ot}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.C0E6THnh.js";import{w as nt}from"../chunks/entry.BXPZjSLx.js";import{h as q,p as st}from"../chunks/setTrackProxy.DjIbdjlZ.js";import{p as lt}from"../chunks/stores.0r95l7yd.js";import{Q as ut}from"../chunks/QueryViewer.CCYodeBo.js";function ct(f){let a,r=u.title+"",e;return{c(){a=T("h1"),e=V(r),this.h()},l(i){a=y(i,"H1",{class:!0});var o=j(a);e=L(o,r),o.forEach(c),this.h()},h(){_(a,"class","title")},m(i,o){p(i,a,o),M(a,e)},p:g,d(i){i&&c(a)}}}function mt(f){return{c(){this.h()},l(a){this.h()},h(){document.title="Evidence"},m:g,p:g,d:g}}function ft(f){let a,r,e,i,o;return document.title=a=u.title,{c(){r=S(),e=T("meta"),i=S(),o=T("meta"),this.h()},l(t){r=k(t),e=y(t,"META",{property:!0,content:!0}),i=k(t),o=y(t,"META",{name:!0,content:!0}),this.h()},h(){var t,n;_(e,"property","og:title"),_(e,"content",((t=u.og)==null?void 0:t.title)??u.title),_(o,"name","twitter:title"),_(o,"content",((n=u.og)==null?void 0:n.title)??u.title)},m(t,n){p(t,r,n),p(t,e,n),p(t,i,n),p(t,o,n)},p(t,n){n&0&&a!==(a=u.title)&&(document.title=a)},d(t){t&&(c(r),c(e),c(i),c(o))}}}function _t(f){var o;let a,r,e=pt(),i=((o=u.og)==null?void 0:o.image)&&bt();return{c(){e&&e.c(),a=S(),i&&i.c(),r=C()},l(t){e&&e.l(t),a=k(t),i&&i.l(t),r=C()},m(t,n){e&&e.m(t,n),p(t,a,n),i&&i.m(t,n),p(t,r,n)},p(t,n){var d;e.p(t,n),(d=u.og)!=null&&d.image&&i.p(t,n)},d(t){t&&(c(a),c(r)),e&&e.d(t),i&&i.d(t)}}}function pt(f){let a,r,e,i,o;return{c(){a=T("meta"),r=S(),e=T("meta"),i=S(),o=T("meta"),this.h()},l(t){a=y(t,"META",{name:!0,content:!0}),r=k(t),e=y(t,"META",{property:!0,content:!0}),i=k(t),o=y(t,"META",{name:!0,content:!0}),this.h()},h(){var t,n;_(a,"name","description"),_(a,"content",u.description),_(e,"property","og:description"),_(e,"content",((t=u.og)==null?void 0:t.description)??u.description),_(o,"name","twitter:description"),_(o,"content",((n=u.og)==null?void 0:n.description)??u.description)},m(t,n){p(t,a,n),p(t,r,n),p(t,e,n),p(t,i,n),p(t,o,n)},p:g,d(t){t&&(c(a),c(r),c(e),c(i),c(o))}}}function bt(f){let a,r,e;return{c(){a=T("meta"),r=S(),e=T("meta"),this.h()},l(i){a=y(i,"META",{property:!0,content:!0}),r=k(i),e=y(i,"META",{name:!0,content:!0}),this.h()},h(){var i,o;_(a,"property","og:image"),_(a,"content",N((i=u.og)==null?void 0:i.image)),_(e,"name","twitter:image"),_(e,"content",N((o=u.og)==null?void 0:o.image))},m(i,o){p(i,a,o),p(i,r,o),p(i,e,o)},p:g,d(i){i&&(c(a),c(r),c(e))}}}function x(f){let a,r;return a=new ut({props:{queryID:"attributes",queryResult:f[0]}}),{c(){$(a.$$.fragment)},l(e){Z(a.$$.fragment,e)},m(e,i){W(a,e,i),r=!0},p(e,i){const o={};i&1&&(o.queryResult=e[0]),a.$set(o)},i(e){r||(O(a.$$.fragment,e),r=!0)},o(e){F(a.$$.fragment,e),r=!1},d(e){J(a,e)}}}function dt(f){let a,r,e,i,o,t,n,d=typeof u<"u"&&u.title&&u.hide_title!==!0&&ct();function v(s,m){return typeof u<"u"&&u.title?ft:mt}let E=v()(f),b=typeof u=="object"&&_t(),l=f[0]&&x(f);return{c(){d&&d.c(),a=S(),E.c(),r=T("meta"),e=T("meta"),b&&b.c(),i=C(),o=S(),l&&l.c(),t=C(),this.h()},l(s){d&&d.l(s),a=k(s);const m=P("svelte-2igo1p",document.head);E.l(m),r=y(m,"META",{name:!0,content:!0}),e=y(m,"META",{name:!0,content:!0}),b&&b.l(m),i=C(),m.forEach(c),o=k(s),l&&l.l(s),t=C(),this.h()},h(){_(r,"name","twitter:card"),_(r,"content","summary_large_image"),_(e,"name","twitter:site"),_(e,"content","@evidence_dev")},m(s,m){d&&d.m(s,m),p(s,a,m),E.m(document.head,null),M(document.head,r),M(document.head,e),b&&b.m(document.head,null),M(document.head,i),p(s,o,m),l&&l.m(s,m),p(s,t,m),n=!0},p(s,[m]){typeof u<"u"&&u.title&&u.hide_title!==!0&&d.p(s,m),E.p(s,m),typeof u=="object"&&b.p(s,m),s[0]?l?(l.p(s,m),m&1&&O(l,1)):(l=x(s),l.c(),O(l,1),l.m(t.parentNode,t)):l&&(tt(),F(l,1,1,()=>{l=null}),z())},i(s){n||(O(l),n=!0)},o(s){F(l),n=!1},d(s){s&&(c(a),c(o),c(t)),d&&d.d(s),E.d(s),c(r),c(e),b&&b.d(s),c(i),l&&l.d(s)}}}const u={title:"Files",description:"Show file attributes distribution"};function ht(f,a,r){let e,i;w(f,lt,h=>r(7,e=h)),w(f,U,h=>r(13,i=h));let{data:o}=a,{data:t={},customFormattingSettings:n,__db:d,inputs:v}=o;Q(U,i="2f58f865d229a0af3e6812cdae69406b",i);let I=et(nt(v));B(I.subscribe(h=>v=h)),H(ot,{getCustomFormats:()=>n.customFormats||[]});const E=(h,D)=>st(d.query,h,{query_name:D});it(E),e.params,Y(()=>!0);let b={initialData:void 0,initialError:void 0},l=q`SELECT attribute as name, COUNT(DISTINCT path) AS value
FROM file_attributes
GROUP BY attribute`,s=`SELECT attribute as name, COUNT(DISTINCT path) AS value
FROM file_attributes
GROUP BY attribute`;t.attributes_data&&(t.attributes_data instanceof Error?b.initialError=t.attributes_data:b.initialData=t.attributes_data,t.attributes_columns&&(b.knownColumns=t.attributes_columns));let m,R=!1;const A=at.createReactive({callback:h=>{r(0,m=h)},execFn:E},{id:"attributes",...b});return A(s,{noResolve:l,...b}),globalThis[Symbol.for("attributes")]={get value(){return m}},f.$$set=h=>{"data"in h&&r(1,o=h.data)},f.$$.update=()=>{f.$$.dirty&2&&r(2,{data:t={},customFormattingSettings:n,__db:d}=o,t),f.$$.dirty&4&&rt.set(Object.keys(t).length>0),f.$$.dirty&128&&e.params,f.$$.dirty&120&&(l||!R?l||(A(s,{noResolve:l,...b}),r(6,R=!0)):A(s,{noResolve:l}))},r(4,l=q`SELECT attribute as name, COUNT(DISTINCT path) AS value
FROM file_attributes
GROUP BY attribute`),r(5,s=`SELECT attribute as name, COUNT(DISTINCT path) AS value
FROM file_attributes
GROUP BY attribute`),[m,o,t,b,l,s,R,e]}class vt extends K{constructor(a){super(),X(this,a,ht,dt,G,{data:1})}}export{vt as component};
