import{s as H,d as m,i as p,a as O,b as _,c as S,h as Y,e as E,f as w,g,j as k,k as I,l as j,o as L,m as V,n as $,p as v,q as K,r as X,t as z}from"../chunks/scheduler.B01IB3Lr.js";import{S as J,i as W,d as x,t as R,a as M,c as Z,m as G,b as P,e as Q,g as tt}from"../chunks/index.BKDtcpIM.js";import{D as et,e as it,s as at,Q as rt,p as nt,a as N,r as U,C as ot}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.CoMYzh0V.js";import{w as st}from"../chunks/entry.BNq8DYgI.js";import{h as D,p as lt}from"../chunks/setTrackProxy.DjIbdjlZ.js";import{p as ut}from"../chunks/stores.73xUwQRp.js";import{Q as ct}from"../chunks/QueryViewer.p96xPUVB.js";function mt(f){let a,r=u.title+"",e;return{c(){a=k("h1"),e=z(r),this.h()},l(i){a=E(i,"H1",{class:!0});var n=K(a);e=X(n,r),n.forEach(m),this.h()},h(){_(a,"class","title")},m(i,n){p(i,a,n),O(a,e)},p:v,d(i){i&&m(a)}}}function ft(f){return{c(){this.h()},l(a){this.h()},h(){document.title="Evidence"},m:v,p:v,d:v}}function _t(f){let a,r,e,i,n;return document.title=a=u.title,{c(){r=g(),e=k("meta"),i=g(),n=k("meta"),this.h()},l(t){r=S(t),e=E(t,"META",{property:!0,content:!0}),i=S(t),n=E(t,"META",{name:!0,content:!0}),this.h()},h(){var t,o;_(e,"property","og:title"),_(e,"content",((t=u.og)==null?void 0:t.title)??u.title),_(n,"name","twitter:title"),_(n,"content",((o=u.og)==null?void 0:o.title)??u.title)},m(t,o){p(t,r,o),p(t,e,o),p(t,i,o),p(t,n,o)},p(t,o){o&0&&a!==(a=u.title)&&(document.title=a)},d(t){t&&(m(r),m(e),m(i),m(n))}}}function pt(f){var n;let a,r,e=bt(),i=((n=u.og)==null?void 0:n.image)&&dt();return{c(){e&&e.c(),a=g(),i&&i.c(),r=w()},l(t){e&&e.l(t),a=S(t),i&&i.l(t),r=w()},m(t,o){e&&e.m(t,o),p(t,a,o),i&&i.m(t,o),p(t,r,o)},p(t,o){var y;e.p(t,o),(y=u.og)!=null&&y.image&&i.p(t,o)},d(t){t&&(m(a),m(r)),e&&e.d(t),i&&i.d(t)}}}function bt(f){let a,r,e,i,n;return{c(){a=k("meta"),r=g(),e=k("meta"),i=g(),n=k("meta"),this.h()},l(t){a=E(t,"META",{name:!0,content:!0}),r=S(t),e=E(t,"META",{property:!0,content:!0}),i=S(t),n=E(t,"META",{name:!0,content:!0}),this.h()},h(){var t,o;_(a,"name","description"),_(a,"content",u.description),_(e,"property","og:description"),_(e,"content",((t=u.og)==null?void 0:t.description)??u.description),_(n,"name","twitter:description"),_(n,"content",((o=u.og)==null?void 0:o.description)??u.description)},m(t,o){p(t,a,o),p(t,r,o),p(t,e,o),p(t,i,o),p(t,n,o)},p:v,d(t){t&&(m(a),m(r),m(e),m(i),m(n))}}}function dt(f){let a,r,e;return{c(){a=k("meta"),r=g(),e=k("meta"),this.h()},l(i){a=E(i,"META",{property:!0,content:!0}),r=S(i),e=E(i,"META",{name:!0,content:!0}),this.h()},h(){var i,n;_(a,"property","og:image"),_(a,"content",N((i=u.og)==null?void 0:i.image)),_(e,"name","twitter:image"),_(e,"content",N((n=u.og)==null?void 0:n.image))},m(i,n){p(i,a,n),p(i,r,n),p(i,e,n)},p:v,d(i){i&&(m(a),m(r),m(e))}}}function q(f){let a,r;return a=new ct({props:{queryID:"attributes",queryResult:f[0]}}),{c(){Q(a.$$.fragment)},l(e){P(a.$$.fragment,e)},m(e,i){G(a,e,i),r=!0},p(e,i){const n={};i&1&&(n.queryResult=e[0]),a.$set(n)},i(e){r||(M(a.$$.fragment,e),r=!0)},o(e){R(a.$$.fragment,e),r=!1},d(e){x(a,e)}}}function ht(f){let a,r,e,i,n,t,o,y,h=typeof u<"u"&&u.title&&u.hide_title!==!0&&mt();function A(s,c){return typeof u<"u"&&u.title?_t:ft}let d=A()(f),b=typeof u=="object"&&pt(),l=f[0]&&q(f);return o=new et({props:{data:f[0]}}),{c(){h&&h.c(),a=g(),d.c(),r=k("meta"),e=k("meta"),b&&b.c(),i=w(),n=g(),l&&l.c(),t=g(),Q(o.$$.fragment),this.h()},l(s){h&&h.l(s),a=S(s);const c=Y("svelte-2igo1p",document.head);d.l(c),r=E(c,"META",{name:!0,content:!0}),e=E(c,"META",{name:!0,content:!0}),b&&b.l(c),i=w(),c.forEach(m),n=S(s),l&&l.l(s),t=S(s),P(o.$$.fragment,s),this.h()},h(){_(r,"name","twitter:card"),_(r,"content","summary_large_image"),_(e,"name","twitter:site"),_(e,"content","@evidence_dev")},m(s,c){h&&h.m(s,c),p(s,a,c),d.m(document.head,null),O(document.head,r),O(document.head,e),b&&b.m(document.head,null),O(document.head,i),p(s,n,c),l&&l.m(s,c),p(s,t,c),G(o,s,c),y=!0},p(s,[c]){typeof u<"u"&&u.title&&u.hide_title!==!0&&h.p(s,c),d.p(s,c),typeof u=="object"&&b.p(s,c),s[0]?l?(l.p(s,c),c&1&&M(l,1)):(l=q(s),l.c(),M(l,1),l.m(t.parentNode,t)):l&&(tt(),R(l,1,1,()=>{l=null}),Z());const C={};c&1&&(C.data=s[0]),o.$set(C)},i(s){y||(M(l),M(o.$$.fragment,s),y=!0)},o(s){R(l),R(o.$$.fragment,s),y=!1},d(s){s&&(m(a),m(n),m(t)),h&&h.d(s),d.d(s),m(r),m(e),b&&b.d(s),m(i),l&&l.d(s),x(o,s)}}}const u={title:"File attributes",description:"Show file attributes distribution"};function Tt(f,a,r){let e,i;I(f,ut,T=>r(7,e=T)),I(f,U,T=>r(13,i=T));let{data:n}=a,{data:t={},customFormattingSettings:o,__db:y,inputs:h}=n;j(U,i="2f58f865d229a0af3e6812cdae69406b",i);let A=it(st(h));L(A.subscribe(T=>h=T)),V(ot,{getCustomFormats:()=>o.customFormats||[]});const F=(T,B)=>lt(y.query,T,{query_name:B});at(F),e.params,$(()=>!0);let d={initialData:void 0,initialError:void 0},b=D`SELECT attribute as name, COUNT(DISTINCT path) AS value
FROM file_attributes
GROUP BY attribute`,l=`SELECT attribute as name, COUNT(DISTINCT path) AS value
FROM file_attributes
GROUP BY attribute`;t.attributes_data&&(t.attributes_data instanceof Error?d.initialError=t.attributes_data:d.initialData=t.attributes_data,t.attributes_columns&&(d.knownColumns=t.attributes_columns));let s,c=!1;const C=rt.createReactive({callback:T=>{r(0,s=T)},execFn:F},{id:"attributes",...d});return C(l,{noResolve:b,...d}),globalThis[Symbol.for("attributes")]={get value(){return s}},f.$$set=T=>{"data"in T&&r(1,n=T.data)},f.$$.update=()=>{f.$$.dirty&2&&r(2,{data:t={},customFormattingSettings:o,__db:y}=n,t),f.$$.dirty&4&&nt.set(Object.keys(t).length>0),f.$$.dirty&128&&e.params,f.$$.dirty&120&&(b||!c?b||(C(l,{noResolve:b,...d}),r(6,c=!0)):C(l,{noResolve:b}))},r(4,b=D`SELECT attribute as name, COUNT(DISTINCT path) AS value
FROM file_attributes
GROUP BY attribute`),r(5,l=`SELECT attribute as name, COUNT(DISTINCT path) AS value
FROM file_attributes
GROUP BY attribute`),[s,n,t,d,b,l,c,e]}class Mt extends J{constructor(a){super(),W(this,a,Tt,ht,H,{data:1})}}export{Mt as component};
